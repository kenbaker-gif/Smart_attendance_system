# ğŸ“¸ Smart Attendance System (AI-Powered Face Recognition)

An end-to-end AI Attendance System built with FastAPI, Streamlit, InsightFace, Supabase, and deployed on Railway.
This system performs real-time face recognition using stored student images, automatically marks attendance, and provides a simple user interface for teachers and admins.

## ğŸš€ Features
## ğŸ§  AI Face Recognition (InsightFace)

- Uses InsightFace ArcFace embeddings, one of the most accurate face recognition models available.

- High-precision embedding generation and matching using cosine similarity.

- Embeddings are generated on demand (not stored in DB).

## â˜ï¸ Cloud Storage (Supabase)

- Stores all student information and face images.

- Backend fetches images from Supabase when needed.

- Streamlined integration for reading/writing attendance records.

## âš¡ High-Performance Backend (FastAPI)

- Fast, scalable API for:

- image uploads

- embedding generation

- face matching

- attendance marking

- student management

## ğŸŒ Modern Frontend (Streamlit)

Clean UI for:

- capturing live webcam images

- displaying recognition results

- viewing attendance logs

- managing students

## ğŸ“¦ Deployment
- Backend (FastAPI)

- Deployed on Railway using:

```python
uvicorn app.main:app --host 0.0.0.0 --port $PORT
```

## Frontend (Streamlit)
1. Deployable via:
   - Streamlit Cloud
   - Railway
   - Docker image

## ğŸ—ï¸ System Architecture
```python

             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚        Streamlit       â”‚
             â”‚  (User Interface/App)  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚          FASTAPI           â”‚
          â”‚     (Backend on Railway)   â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                â”‚                  â”‚
     â–¼                â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InsightFaceâ”‚   â”‚ Attendance â”‚   â”‚ Supabase Storage â”‚
â”‚ Embeddings â”‚   â”‚   Logging  â”‚   â”‚  (Images + Data) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš™ï¸ How It Works
   1. Students upload images to Supabase
      Images stored in a bucket
      Student metadata saved in Supabase DB

   2. Backend fetches images

      When attendance is triggered, the backend:
      fetches all student images
      generates embeddings dynamically
      caches them in memory during container runtime

   3. Live camera captures a frame
      Streamlit sends the image to FastAPI.

   4. InsightFace generates embeddings
      Both embeddings (student image + live image) are compared using cosine similarity.

   5. Attendance marked on match
      If similarity passes threshold, attendance is marked and saved in Supabase.

## ğŸ” Matching Logic
- Embedding Generation
- InsightFace model â†’ embedding vector (512-D)
- Similarity

### Cosine Similarity

The system uses **cosine similarity** to compare face embeddings generated by InsightFace:

```python
similarity = np.dot(vec1, vec2)
```

## ğŸ§ª Testing

- You can test recognition by:

- Uploading student images to Supabase

- Running Streamlit

- Taking a live picture

- Watching the backend detect and mark attendance

## ğŸ§‘â€ğŸ’» Tech Stack

| Area                | Technology                          |
|:-------------------:|:-----------------------------------|
| Backend             | FastAPI, Python                     |
| AI/Face Recognition | InsightFace (ArcFace), ONNX Runtime |
| Database            | Supabase (PostgreSQL + Storage)     |
| Frontend            | Streamlit                           |
| Deployment          | Railway                             |
| Auth & Management   | Supabase                            |
| Image Processing    | OpenCV, PIL                         |


## ğŸŒ Use Cases

- School attendance

- Employee check-in systems

- Exam hall verification

- Hostel / dormitory entry

- Visitor verification systems

## ğŸ“ Contact / Hire Me

If you need a **custom AI attendance system** or **commercial deployment**, feel free to reach out:

**Ainebyona Abubaker**  
Freelancer | AI/ML Developer  

- Fiverr: https://www.fiverr.com/s/Ege84AD
- Email: ainebyonabubaker@proton.me
