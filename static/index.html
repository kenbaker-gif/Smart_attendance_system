<!DOCTYPE html>
<html>
<head>
    <title>Smart Attendance System</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <h2>Upload or Capture Student Image</h2>

    <div class="flex-row">
        <!-- Webcam Section -->
        <div class="flex-column">
            <h3>Capture with Webcam</h3>
            <video id="video" autoplay playsinline></video>
            <canvas id="canvas" style="display:none;"></canvas>
            <p class="preview-label">Preview:</p>
            <img id="preview" src="" style="display:none; border:1px solid black;">

            <div class="button-group">
                <button id="switchCamera"><i class="fa fa-sync"></i> Switch Camera</button>
                <button id="capture"><i class="fa fa-camera"></i> Capture</button>
            </div>

            <!-- Hidden form for submission -->
            <form id="webcamForm" method="post" enctype="multipart/form-data" style="display:none;">
                <input type="hidden" name="student_id" id="webcamStudentId">
                <input type="file" name="file" id="webcamFile">
                <button type="submit"><i class="fa fa-upload"></i> Submit Captured Image</button>
            </form>
        </div>

        <!-- Upload Section -->
        <div class="flex-column">
            <h3>Upload Image</h3>
            <form action="/attendance/capture/" method="post" enctype="multipart/form-data">
                <label for="studentIdUpload">Student ID:</label>
                <input type="text" name="student_id" id="studentIdUpload" required>

                <label for="fileUpload">Select Image:</label>
                <input type="file" name="file" id="fileUpload" accept="image/*" required>

                <button type="submit"><i class="fa fa-upload"></i> Upload Image</button>
            </form>
        </div>
    </div>
    <script src="/static/js/main.js"></script>
</body>
</html>
